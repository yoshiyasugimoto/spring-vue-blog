import{d as q,k as J,l as y,f as h,c as s,b as t,r,o as d,g as i,h as D,a as k,t as u,m as l,s as L,q as O,p as G}from"./iframe-15G2Nn8J.js";import{f as K,g as w,w as Q}from"./decorators-Ces2D877.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as P}from"./data-BUIPDpdg.js";import"./preload-helper-Dp1pzeXC.js";const Y={class:"page-header"},U=q({__name:"PostListView",setup(tt){const e=K(),H=[{title:"タイトル",key:"title",dataIndex:"title"},{title:"ステータス",key:"status",dataIndex:"status",width:100},{title:"カテゴリ",key:"category",width:150},{title:"更新日",key:"updatedAt",width:120},{title:"操作",key:"actions",width:150}],N=O(()=>({current:e.currentPage+1,total:e.totalElements,pageSize:10,showSizeChanger:!1}));function z(n){return n?new Date(n).toLocaleDateString("ja-JP"):""}function F(n){e.fetchAll(n.current-1)}async function M(n){await e.deletePost(n),G.success("記事を削除しました"),e.fetchAll(e.currentPage)}return J(()=>{e.fetchAll()}),(n,a)=>{const f=r("a-button"),g=r("router-link"),T=r("a-tag"),$=r("a-popconfirm"),R=r("a-space"),W=r("a-table"),j=r("a-card");return d(),y("div",null,[h("div",Y,[a[1]||(a[1]=h("h2",{class:"page-title"},"記事管理",-1)),s(g,{to:"/admin/posts/new"},{default:t(()=>[s(f,{type:"primary"},{default:t(()=>[...a[0]||(a[0]=[i("新規作成",-1)])]),_:1})]),_:1})]),s(j,{bordered:!1},{default:t(()=>[s(W,{"data-source":D(e).posts,loading:D(e).loading,pagination:N.value,columns:H,"row-key":"id",onChange:F},{bodyCell:t(({column:c,record:o})=>{var S;return[c.key==="title"?(d(),k(g,{key:0,to:`/admin/posts/${o.id}`},{default:t(()=>[i(u(o.title),1)]),_:2},1032,["to"])):l("",!0),c.key==="status"?(d(),k(T,{key:1,color:o.status==="PUBLISHED"?"green":"orange"},{default:t(()=>[i(u(o.status==="PUBLISHED"?"公開":"下書き"),1)]),_:2},1032,["color"])):l("",!0),c.key==="category"?(d(),y(L,{key:2},[i(u(((S=o.category)==null?void 0:S.name)||"-"),1)],64)):l("",!0),c.key==="updatedAt"?(d(),y(L,{key:3},[i(u(z(o.updatedAt)),1)],64)):l("",!0),c.key==="actions"?(d(),k(R,{key:4},{default:t(()=>[s(g,{to:`/admin/posts/${o.id}`},{default:t(()=>[s(f,{type:"link",size:"small"},{default:t(()=>[...a[2]||(a[2]=[i("編集",-1)])]),_:1})]),_:1},8,["to"]),s($,{title:"この記事を削除しますか？",onConfirm:et=>M(o.id)},{default:t(()=>[s(f,{type:"link",danger:"",size:"small"},{default:t(()=>[...a[3]||(a[3]=[i("削除",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:2},1024)):l("",!0)]}),_:1},8,["data-source","loading","pagination"])]),_:1})])}}}),Z=X(U,[["__scopeId","data-v-c26a5280"]]);U.__docgenInfo={exportName:"default",displayName:"PostListView",description:"",tags:{},sourceFiles:["/Users/sugimotoyoshiwataru/ai-driven-repository/spring-vue-blog/frontend/src/views/admin/PostListView.vue"]};const it={title:"Views/Admin/PostList",component:Z,tags:["autodocs"],decorators:[Q()]},p={decorators:[w()]},m={decorators:[w([])]},_={decorators:[w([{...P[0],status:"PUBLISHED"},{...P[1],status:"PUBLISHED"},{...P[2],status:"DRAFT"}])]};var x,E,v;p.parameters={...p.parameters,docs:{...(x=p.parameters)==null?void 0:x.docs,source:{originalSource:`{
  decorators: [withPopulatedPostStore()]
}`,...(v=(E=p.parameters)==null?void 0:E.docs)==null?void 0:v.source}}};var A,B,C;m.parameters={...m.parameters,docs:{...(A=m.parameters)==null?void 0:A.docs,source:{originalSource:`{
  decorators: [withPopulatedPostStore([])]
}`,...(C=(B=m.parameters)==null?void 0:B.docs)==null?void 0:C.source}}};var I,b,V;_.parameters={..._.parameters,docs:{...(I=_.parameters)==null?void 0:I.docs,source:{originalSource:`{
  decorators: [withPopulatedPostStore([{
    ...mockPosts[0],
    status: 'PUBLISHED'
  }, {
    ...mockPosts[1],
    status: 'PUBLISHED'
  }, {
    ...mockPosts[2],
    status: 'DRAFT'
  }])]
}`,...(V=(b=_.parameters)==null?void 0:b.docs)==null?void 0:V.source}}};const dt=["Default","Empty","WithMixedStatuses"];export{p as Default,m as Empty,_ as WithMixedStatuses,dt as __namedExportsOrder,it as default};
